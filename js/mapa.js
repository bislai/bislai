$(function(){function s(s){function a(s){r.style("display","block").html('<h4 class="tooltipTitulo">'+s.properties.distrito+'</h4><div class="container-tooltip-leyenda"><p class="tooltipLeyenda"><span>Censo:</span> <span class="resultado"> '+s.properties.total+'</span><p/><p class="tooltipLeyenda"><span>Votantes:</span> <span class="resultado">'+s.properties.votantes+'%</span><p/><p class="tooltipLeyenda"><span>Abstenci√≥n:</span> <span class="resultado">'+s.properties.abstencion+'%</span><p/></div><div class="container-tooltip-partido"><p class="tooltipPartido"><span class="bgc-pp">PP</span><span class="resultado"><span class="resultadoVotos"> '+s.properties.pp+"%</span> <span class='resultadoVotos'> "+s.properties.ppVotos+'</span><p/><p class="tooltipPartido"><span class="bgc-zec">ZEC</span><span class="resultado"><span class="resultadoVotos"> '+s.properties.zec+"%</span> <span class='resultadoVotos'> "+s.properties.zecVotos+'</span><p/>%</span><p/><p class="tooltipPartido"><span class="bgc-psoe">PSOE</span><span class="resultado"><span class="resultadoVotos"> '+s.properties.psoe+"%</span> <span class='resultadoVotos'> "+s.properties.psoeVotos+'</span><p/><p class="tooltipPartido"><span class="bgc-cs">CS</span><span class="resultado"><span class="resultadoVotos"> '+s.properties.cs+"%</span> <span class='resultadoVotos'> "+s.properties.csVotos+'</span><p/><p class="tooltipPartido"><span class="bgc-cha">CHA</span><span class="resultado"><span class="resultadoVotos"> '+s.properties.cha+"%</span> <span class='resultadoVotos'> "+s.properties.chaVotos+"</span><p/></div>").transition().duration(200)}function o(s,a){var o=t.project(new mapboxgl.LngLat(s,a));this.stream.point(o.x,o.y)}mapboxgl.accessToken="pk.eyJ1Ijoiam9yZ2VhdGd1IiwiYSI6IjNta3k1WDQifQ.JERO-KTpP2O6F0JwKRPCrg";var t=new mapboxgl.Map({container:"map",style:"mapbox://styles/jorgeatgu/cj9x6vj1k6eux2sl4jh9c2jpn",center:[-.850431,41.651729],zoom:11.5});t.addControl(new mapboxgl.Navigation);var p=t.getCanvasContainer(),e=d3.select(p).append("svg"),n=(e.append("g").attr("class","distritos"),d3.geo.transform({point:o})),l=d3.geo.path().projection(n),r=d3.select("#map").append("div").attr("class","tooltip"),i=e.selectAll("path").data(s.features).enter().append("path").attr("class","distritos").on("mouseover",a).transition().duration(200);t.scrollZoom.disable(),function(){i.attr("d",l)}()}d3.json("mapas/distrito-electoral-zaragoza.geojson",function(a,o){s(o)})});